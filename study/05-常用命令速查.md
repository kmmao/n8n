# n8n å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# åˆå§‹åŒ–é¡¹ç›®
pnpm install              # å®‰è£…ä¾èµ–
pnpm build                # æ„å»ºæ‰€æœ‰åŒ…
pnpm start                # å¯åŠ¨ n8n

# å¼€å‘æ¨¡å¼
pnpm dev                  # å…¨æ ˆå¼€å‘æ¨¡å¼ï¼ˆæ‰€æœ‰åŒ…ï¼‰
pnpm dev:be               # ä»…åç«¯å¼€å‘
pnpm dev:fe               # ä»…å‰ç«¯å¼€å‘
pnpm dev:ai               # AI/LangChain èŠ‚ç‚¹å¼€å‘
```

## ğŸ“¦ æ„å»ºç›¸å…³

```bash
# æ„å»ºæ‰€æœ‰åŒ…
pnpm build > build.log 2>&1    # é‡å®šå‘è¾“å‡ºåˆ°æ–‡ä»¶
tail -n 20 build.log           # æŸ¥çœ‹æ„å»ºç»“æœ

# æ„å»ºç‰¹å®šåŒ…
pnpm --filter @n8n/cli build
pnpm --filter n8n-editor-ui build

# æ¸…ç†æ„å»ºäº§ç‰©
pnpm clean

# é‡ç½®é¡¹ç›®ï¼ˆæ¸…ç† + é‡è£…ï¼‰
pnpm reset
```

## ğŸ§ª æµ‹è¯•ç›¸å…³

```bash
# è¿è¡Œæµ‹è¯•
pnpm test                      # æ‰€æœ‰æµ‹è¯•
pnpm test:affected             # å—å½±å“çš„æµ‹è¯•
pnpm --filter @n8n/cli test    # ç‰¹å®šåŒ…çš„æµ‹è¯•

# E2E æµ‹è¯•
pnpm dev:e2e                   # å¼€å‘æ¨¡å¼ E2E æµ‹è¯•
pnpm test:with:docker          # Docker å®¹å™¨æµ‹è¯•
pnpm test:show:report          # æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š

# æµ‹è¯•è¦†ç›–ç‡
COVERAGE_ENABLED=true pnpm test

# åœ¨åŒ…ç›®å½•ä¸­è¿è¡Œç‰¹å®šæµ‹è¯•
cd packages/cli
pnpm test src/services/workflow.service.test.ts
pnpm test --watch              # Watch æ¨¡å¼
```

## âœ… ä»£ç è´¨é‡

```bash
# Lint
pnpm lint                      # æ£€æŸ¥æ‰€æœ‰åŒ…
pnpm lint:fix                  # è‡ªåŠ¨ä¿®å¤
pnpm lint:affected             # æ£€æŸ¥å—å½±å“çš„åŒ…
cd packages/cli && pnpm lint   # æ£€æŸ¥ç‰¹å®šåŒ…

# ç±»å‹æ£€æŸ¥
pnpm typecheck                 # æ‰€æœ‰åŒ…
cd packages/cli && pnpm typecheck  # ç‰¹å®šåŒ…

# æ ¼å¼åŒ–
pnpm format                    # æ ¼å¼åŒ–ä»£ç 
pnpm format:check              # æ£€æŸ¥æ ¼å¼

# CSS Lint
pnpm lint:styles               # æ£€æŸ¥æ ·å¼
pnpm lint:styles:fix           # ä¿®å¤æ ·å¼é—®é¢˜
```

## ğŸ”§ å¼€å‘å·¥å…·

```bash
# åˆ›å»ºæ–°èŠ‚ç‚¹
pnpm --filter @n8n/node-cli create

# èŠ‚ç‚¹å¼€å‘ï¼ˆçƒ­é‡è½½ï¼‰
N8N_DEV_RELOAD=true pnpm dev

# å¯åŠ¨éš§é“ï¼ˆç”¨äº Webhook æµ‹è¯•ï¼‰
./packages/cli/bin/n8n start --tunnel

# Watch æ¨¡å¼ï¼ˆç›‘è§†æ–‡ä»¶å˜åŒ–ï¼‰
pnpm watch
```

## ğŸ“ åŒ…ç®¡ç†

```bash
# æ·»åŠ ä¾èµ–åˆ°ç‰¹å®šåŒ…
pnpm --filter @n8n/editor-ui add lodash
pnpm --filter @n8n/cli add -D @types/node

# æ·»åŠ ä¾èµ–åˆ° workspace root
pnpm add -w some-package

# è¿è¡Œç‰¹å®šåŒ…çš„è„šæœ¬
pnpm --filter @n8n/editor-ui dev
pnpm --filter @n8n/cli start

# åˆ—å‡ºæ‰€æœ‰åŒ…
pnpm ls -r

# æ›´æ–°ä¾èµ–
pnpm update
```

## ğŸŒ² Git å·¥ä½œæµ

```bash
# åˆ›å»ºåˆ†æ”¯
git checkout master
git pull upstream master
git checkout -b feat/new-feature

# ä» Linear è·å–åˆ†æ”¯å
# ä½¿ç”¨ Linear ticket ä¸­å»ºè®®çš„åˆ†æ”¯å

# æäº¤ï¼ˆéµå¾ª Angular è§„èŒƒï¼‰
git add .
git commit -m "feat(editor): Add new feature"

# PR ç±»å‹
# feat:      æ–°åŠŸèƒ½
# fix:       Bug ä¿®å¤
# docs:      æ–‡æ¡£
# refactor:  é‡æ„
# test:      æµ‹è¯•
# perf:      æ€§èƒ½ä¼˜åŒ–
# build:     æ„å»ºç³»ç»Ÿ
# ci:        CI é…ç½®
# chore:     æ—¥å¸¸ä»»åŠ¡

# æ¨é€å¹¶åˆ›å»º PR
git push origin feat/new-feature
gh pr create --draft
```

## ğŸ™ GitHub CLI (gh)

```bash
# åˆ›å»º PR
gh pr create                   # äº¤äº’å¼åˆ›å»º
gh pr create --draft           # åˆ›å»ºè‰ç¨¿ PR
gh pr create --title "Title" --body "Description"

# æŸ¥çœ‹ PR
gh pr list                     # åˆ—å‡º PR
gh pr view 123                 # æŸ¥çœ‹ç‰¹å®š PR
gh pr checks                   # æŸ¥çœ‹ CI çŠ¶æ€

# åˆå¹¶ PR
gh pr merge 123                # åˆå¹¶ PR
```

## ğŸ—‚ï¸ ç›®å½•å¯¼èˆªæŠ€å·§

```bash
# ä½¿ç”¨ pushd/popd è€Œä¸æ˜¯ cd
pushd packages/cli             # è¿›å…¥ç›®å½•ï¼ˆä¿å­˜å½“å‰ä½ç½®ï¼‰
pnpm test
popd                           # è¿”å›ä¹‹å‰çš„ç›®å½•

# æ£€æŸ¥å½“å‰ä½ç½®
pwd
```

## ğŸ” è°ƒè¯•å‘½ä»¤

```bash
# å¯åŠ¨ Node.js è°ƒè¯•
node --inspect packages/cli/bin/n8n

# æŸ¥çœ‹è¿›ç¨‹
ps aux | grep n8n

# æŸ¥çœ‹ç«¯å£å ç”¨
lsof -i :5678

# æ€æ­»è¿›ç¨‹
kill -9 <PID>
```

## ğŸ¯ é€‰æ‹©æ€§å¼€å‘åœºæ™¯

### åœºæ™¯ 1: å‰ç«¯ UI å¼€å‘
```bash
# ç»ˆç«¯ 1: å¯åŠ¨åç«¯ï¼ˆæ— ç›‘è§†ï¼‰
pnpm start

# ç»ˆç«¯ 2: å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd packages/frontend/editor-ui
pnpm dev
```

### åœºæ™¯ 2: åç«¯ API å¼€å‘
```bash
pnpm dev:be
```

### åœºæ™¯ 3: è‡ªå®šä¹‰èŠ‚ç‚¹å¼€å‘
```bash
# ç»ˆç«¯ 1: ç›‘è§†èŠ‚ç‚¹åŒ…
cd packages/nodes-base
pnpm watch

# ç»ˆç«¯ 2: è¿è¡Œ CLIï¼ˆå¸¦çƒ­é‡è½½ï¼‰
cd packages/cli
N8N_DEV_RELOAD=true pnpm dev
```

### åœºæ™¯ 4: å…¨æ ˆåŠŸèƒ½å¼€å‘
```bash
pnpm dev
```

## ğŸš¢ Docker ç›¸å…³

```bash
# æ„å»º Docker é•œåƒ
pnpm build:docker

# æ‰«æé•œåƒ
pnpm build:docker:scan

# æµ‹è¯• Docker å®¹å™¨
pnpm build:docker:test
```

## ğŸ“š æ–‡æ¡£å’Œå¸®åŠ©

```bash
# æŸ¥çœ‹å¯ç”¨è„šæœ¬
cat package.json | grep scripts -A 30

# æŸ¥çœ‹ç‰¹å®šåŒ…çš„è„šæœ¬
cd packages/cli
cat package.json | grep scripts -A 20

# æŸ¥çœ‹ Turbo é…ç½®
cat turbo.json
```

## ğŸ¨ å‰ç«¯ç‰¹å®š

```bash
# Storybook
cd packages/frontend/@n8n/design-system
pnpm storybook

# æ›¿æ¢ CSS tokens
pnpm replace-css-tokens
```

## ğŸ¤– åç«¯ç‰¹å®š

```bash
# å¯åŠ¨ worker
./packages/cli/bin/n8n worker

# å¯åŠ¨ webhook
./packages/cli/bin/n8n webhook

# è®¾ç½®åç«¯æ¨¡å—
pnpm setup-backend-module
```

## âš¡ æ€§èƒ½ä¼˜åŒ–

```bash
# åªæ„å»ºå˜æ›´çš„åŒ…ï¼ˆTurbo è‡ªåŠ¨å¤„ç†ï¼‰
pnpm build

# æ¸…ç†ç¼“å­˜
pnpm clean
rm -rf node_modules
pnpm install

# ä½¿ç”¨è¿‡æ»¤å™¨å‡å°‘æ„å»ºèŒƒå›´
pnpm --filter @n8n/cli... build  # æ„å»º cli åŠå…¶ä¾èµ–
pnpm --filter ...@n8n/cli build  # æ„å»ºä¾èµ–äº cli çš„åŒ…
```

## ğŸ” ç¯å¢ƒå˜é‡

```bash
# èŠ‚ç‚¹çƒ­é‡è½½
N8N_DEV_RELOAD=true pnpm dev

# æµ‹è¯•è¦†ç›–ç‡
COVERAGE_ENABLED=true pnpm test

# CI ç¯å¢ƒ
CI=true pnpm test
```

## ğŸ“‹ å¸¸ç”¨ç»„åˆå‘½ä»¤

```bash
# å®Œæ•´çš„ä»£ç æ£€æŸ¥æµç¨‹
pnpm build && pnpm lint && pnpm typecheck && pnpm test

# æ¸…ç†é‡å»º
pnpm clean && pnpm install && pnpm build

# æ£€æŸ¥ç‰¹å®šåŒ…
cd packages/cli && pnpm lint && pnpm typecheck && pnpm test

# æ›´æ–°ä¾èµ–åé‡å»º
pnpm install && pnpm build

# æäº¤å‰æ£€æŸ¥
pnpm lint:fix && pnpm format && pnpm typecheck
```

## ğŸ†˜ æ•…éšœæ’é™¤

```bash
# pnpm å‘½ä»¤æœªæ‰¾åˆ°
corepack enable
corepack prepare --activate

# ç«¯å£è¢«å ç”¨
lsof -i :5678
kill -9 <PID>

# æ„å»ºç¼“å­˜é—®é¢˜
pnpm clean
rm -rf node_modules
pnpm install
pnpm build

# TypeScript é”™è¯¯
pnpm build                     # å…ˆæ„å»ºä¾èµ–
cd packages/<package>
pnpm typecheck

# æµ‹è¯•å¤±è´¥
pnpm test --watch              # Watch æ¨¡å¼è°ƒè¯•
pnpm test --verbose            # è¯¦ç»†è¾“å‡º
```

## ğŸ“ å­¦ä¹ èµ„æº

```bash
# æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£
cat README.md
cat CONTRIBUTING.md
cat CLAUDE.md
cat packages/frontend/CLAUDE.md

# æŸ¥çœ‹ PR è§„èŒƒ
cat .github/pull_request_template.md
cat .github/pull_request_title_conventions.md

# æŸ¥çœ‹ç¤ºä¾‹ä»£ç 
ls packages/nodes-base/nodes/  # èŠ‚ç‚¹ç¤ºä¾‹
```

## ğŸ’¡ æç¤º

- ä½¿ç”¨ `pnpm --filter` å¯ä»¥åªæ“ä½œç‰¹å®šåŒ…ï¼ŒèŠ‚çœæ—¶é—´
- å¼€å‘æ—¶ä¼˜å…ˆä½¿ç”¨ `dev:be` æˆ– `dev:fe` è€Œä¸æ˜¯ `dev`ï¼Œæ€§èƒ½æ›´å¥½
- å®šæœŸè¿è¡Œ `pnpm typecheck` é¿å…ç±»å‹é”™è¯¯ç´¯ç§¯
- ä½¿ç”¨ `pnpm test:affected` è€Œä¸æ˜¯ `pnpm test` èŠ‚çœ CI æ—¶é—´
- Git commit å‰å…ˆè¿è¡Œ `pnpm lint:fix && pnpm typecheck`
